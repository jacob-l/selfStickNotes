(function($){$.template=function(html,options){return new $.template.instance(html,options)};$.template.instance=function(html,options){if(options&&options.regx){options.regx=this.regx[options.regx]}this.options=$.extend({compile:false,regx:this.regx.standard},options||{});this.html=html;if(this.options.compile){this.compile()}this.isTemplate=true};$.template.regx=$.template.instance.prototype.regx={jsp:/\$\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,ext:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,jtemplates:/\{\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}\}/g};$.template.regx.standard=$.template.regx.jsp;$.template.helpers=$.template.instance.prototype.helpers={substr:function(value,start,length){return String(value).substr(start,length)}};$.extend($.template.instance.prototype,{apply:function(values){if(this.options.compile){return this.compiled(values)}else{var tpl=this;var fm=this.helpers;var fn=function(m,name,format,args){if(format){if(format.substr(0,5)=="this."){return tpl.call(format.substr(5),values[name],values)}else{if(args){var re=/^\s*['"](.*)["']\s*$/;args=args.split(",");for(var i=0,len=args.length;i<len;i++){args[i]=args[i].replace(re,"$1")}args=[values[name]].concat(args)}else{args=[values[name]]}return fm[format].apply(fm,args)}}else{return values[name]!==undefined?values[name]:""}};return this.html.replace(this.options.regx,fn)}},compile:function(){var sep=$.browser.mozilla?"+":",";var fm=this.helpers;var fn=function(m,name,format,args){if(format){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"};var body;if($.browser.mozilla){body="this.compiled = function(values){ return '"+this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.options.regx,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.options.regx,fn));body.push("'].join('');};");body=body.join("")}eval(body);return this}});var $_old={domManip:$.fn.domManip,text:$.fn.text,html:$.fn.html};$.fn.domManip=function(args,table,reverse,callback){if(args[0].isTemplate){args[0]=args[0].apply(args[1]);delete args[1]}var r=$_old.domManip.apply(this,arguments);return r};$.fn.html=function(value,o){if(value&&value.isTemplate){var value=value.apply(o)}var r=$_old.html.apply(this,[value]);return r};$.fn.text=function(value,o){if(value&&value.isTemplate){var value=value.apply(o)}var r=$_old.text.apply(this,[value]);return r}})(jQuery);Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Date.firstDayOfWeek=1;Date.format="mm/dd/yyyy";Date.fullYearStart="20";(function(){function b(c,d){if(!Date.prototype[c]){Date.prototype[c]=d}}b("isLeapYear",function(){var c=this.getFullYear();return(c%4==0&&c%100!=0)||c%400==0});b("isWeekend",function(){return this.getDay()==0||this.getDay()==6});b("isWeekDay",function(){return !this.isWeekend()});b("getDaysInMonth",function(){return[31,(this.isLeapYear()?29:28),31,30,31,30,31,31,30,31,30,31][this.getMonth()]});b("getDayName",function(c){return c?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});b("getMonthName",function(c){return c?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});b("getDayOfYear",function(){var c=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-c.getTime())/86400000)});b("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});b("setDayOfYear",function(c){this.setMonth(0);this.setDate(c);return this});b("addYears",function(c){this.setFullYear(this.getFullYear()+c);return this});b("addMonths",function(d){var c=this.getDate();this.setMonth(this.getMonth()+d);if(c>this.getDate()){this.addDays(-this.getDate())}return this});b("addDays",function(c){this.setDate(this.getDate()+c);return this});b("addHours",function(c){this.setHours(this.getHours()+c);return this});b("addMinutes",function(c){this.setMinutes(this.getMinutes()+c);return this});b("addSeconds",function(c){this.setSeconds(this.getSeconds()+c);return this});b("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});b("asString",function(d){var c=d||Date.format;if(c.split("mm").length>1){c=c.split("mmmm").join(this.getMonthName(false)).split("mmm").join(this.getMonthName(true)).split("mm").join(a(this.getMonth()+1))}else{c=c.split("m").join(this.getMonth()+1)}c=c.split("yyyy").join(this.getFullYear()).split("yy").join((this.getFullYear()+"").substring(2)).split("dd").join(a(this.getDate())).split("d").join(this.getDate());return c});Date.fromString=function(t){var n=Date.format;var p=new Date("01/01/1970");if(t==""){return p}t=t.toLowerCase();var m="";var e=[];var c=/(dd?d?|mm?m?|yy?yy?)+([^(m|d|y)])?/g;var k;while((k=c.exec(n))!=null){switch(k[1]){case"d":case"dd":case"m":case"mm":case"yy":case"yyyy":m+="(\\d+\\d?\\d?\\d?)+";e.push(k[1].substr(0,1));break;case"mmm":m+="([a-z]{3})";e.push("M");break}if(k[2]){m+=k[2]}}var l=new RegExp(m);var q=t.match(l);for(var h=0;h<e.length;h++){var o=q[h+1];switch(e[h]){case"d":p.setDate(o);break;case"m":p.setMonth(Number(o)-1);break;case"M":for(var g=0;g<Date.abbrMonthNames.length;g++){if(Date.abbrMonthNames[g].toLowerCase()==o){break}}p.setMonth(g);break;case"y":p.setYear(o);break}}return p};var a=function(c){var d="0"+c;return d.substring(d.length-2)}})();var dateFormat=function(){var a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,b=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=function(f,e){f=String(f);e=e||2;while(f.length<e){f="0"+f}return f};return function(i,v,q){var g=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(i)=="[object String]"&&!/\d/.test(i)){v=i;i=undefined}i=i?new Date(i):new Date;if(isNaN(i)){throw SyntaxError("invalid date")}v=String(g.masks[v]||v||g.masks["default"]);if(v.slice(0,4)=="UTC:"){v=v.slice(4);q=true}var t=q?"getUTC":"get",l=i[t+"Date"](),e=i[t+"Day"](),j=i[t+"Month"](),p=i[t+"FullYear"](),r=i[t+"Hours"](),k=i[t+"Minutes"](),u=i[t+"Seconds"](),n=i[t+"Milliseconds"](),f=q?0:i.getTimezoneOffset(),h={d:l,dd:c(l),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:j+1,mm:c(j+1),mmm:g.i18n.monthNames[j],mmmm:g.i18n.monthNames[j+12],yy:String(p).slice(2),yyyy:p,h:r%12||12,hh:c(r%12||12),H:r,HH:c(r),M:k,MM:c(k),s:u,ss:c(u),l:c(n,3),L:c(n>99?Math.round(n/10):n),t:r<12?"a":"p",tt:r<12?"am":"pm",T:r<12?"A":"P",TT:r<12?"AM":"PM",Z:q?"UTC":(String(i).match(b)||[""]).pop().replace(d,""),o:(f>0?"-":"+")+c(Math.floor(Math.abs(f)/60)*100+Math.abs(f)%60,4),S:["th","st","nd","rd"][l%10>3?0:(l%100-l%10!=10)*l%10]};return v.replace(a,function(m){return m in h?h[m]:m.slice(1,m.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());function getMD5Algorithms(){var q=0;var y="";function p(B){return z(n(r(B)))}function o(B){return b(n(r(B)))}function i(B,C){return e(n(r(B)),C)}function w(B,C){return z(g(r(B),r(C)))}function l(B,C){return b(g(r(B),r(C)))}function h(B,D,C){return e(g(r(B),r(D)),C)}function A(){return p("abc").toLowerCase()=="900150983cd24fb0d6963f7d28e17f72"}function n(B){return u(f(m(B),B.length*8))}function g(D,G){var F=m(D);if(F.length>16){F=f(F,D.length*8)}var B=Array(16),E=Array(16);for(var C=0;C<16;C++){B[C]=F[C]^909522486;E[C]=F[C]^1549556828}var H=f(B.concat(m(G)),512+G.length*8);return u(f(E.concat(H),512+128))}function z(D){try{q}catch(G){q=0}var F=q?"0123456789ABCDEF":"0123456789abcdef";var C="";var B;for(var E=0;E<D.length;E++){B=D.charCodeAt(E);C+=F.charAt((B>>>4)&15)+F.charAt(B&15)}return C}function b(D){try{y}catch(H){y=""}var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var C="";var B=D.length;for(var F=0;F<B;F+=3){var I=(D.charCodeAt(F)<<16)|(F+1<B?D.charCodeAt(F+1)<<8:0)|(F+2<B?D.charCodeAt(F+2):0);for(var E=0;E<4;E++){if(F*8+E*6>D.length*8){C+=y}else{C+=G.charAt((I>>>6*(3-E))&63)}}}return C}function e(L,D){var C=D.length;var K,G,B,M,F;var J=Array(Math.ceil(L.length/2));for(K=0;K<J.length;K++){J[K]=(L.charCodeAt(K*2)<<8)|L.charCodeAt(K*2+1)}var I=Math.ceil(L.length*8/(Math.log(D.length)/Math.log(2)));var H=Array(I);for(G=0;G<I;G++){F=Array();M=0;for(K=0;K<J.length;K++){M=(M<<16)+J[K];B=Math.floor(M/C);M-=B*C;if(F.length>0||B>0){F[F.length]=B}}H[G]=M;J=F}var E="";for(K=H.length-1;K>=0;K--){E+=D.charAt(H[K])}return E}function r(D){var C="";var E=-1;var B,F;while(++E<D.length){B=D.charCodeAt(E);F=E+1<D.length?D.charCodeAt(E+1):0;if(55296<=B&&B<=56319&&56320<=F&&F<=57343){B=65536+((B&1023)<<10)+(F&1023);E++}if(B<=127){C+=String.fromCharCode(B)}else{if(B<=2047){C+=String.fromCharCode(192|((B>>>6)&31),128|(B&63))}else{if(B<=65535){C+=String.fromCharCode(224|((B>>>12)&15),128|((B>>>6)&63),128|(B&63))}else{if(B<=2097151){C+=String.fromCharCode(240|((B>>>18)&7),128|((B>>>12)&63),128|((B>>>6)&63),128|(B&63))}}}}}return C}function v(C){var B="";for(var D=0;D<C.length;D++){B+=String.fromCharCode(C.charCodeAt(D)&255,(C.charCodeAt(D)>>>8)&255)}return B}function k(C){var B="";for(var D=0;D<C.length;D++){B+=String.fromCharCode((C.charCodeAt(D)>>>8)&255,C.charCodeAt(D)&255)}return B}function m(C){var B=Array(C.length>>2);for(var D=0;D<B.length;D++){B[D]=0}for(var D=0;D<C.length*8;D+=8){B[D>>5]|=(C.charCodeAt(D/8)&255)<<(D%32)}return B}function u(C){var B="";for(var D=0;D<C.length*32;D+=8){B+=String.fromCharCode((C[D>>5]>>>(D%32))&255)}return B}function f(L,G){L[G>>5]|=128<<((G)%32);L[(((G+64)>>>9)<<4)+14]=G;var K=1732584193;var J=-271733879;var I=-1732584194;var H=271733878;for(var D=0;D<L.length;D+=16){var F=K;var E=J;var C=I;var B=H;K=c(K,J,I,H,L[D+0],7,-680876936);H=c(H,K,J,I,L[D+1],12,-389564586);I=c(I,H,K,J,L[D+2],17,606105819);J=c(J,I,H,K,L[D+3],22,-1044525330);K=c(K,J,I,H,L[D+4],7,-176418897);H=c(H,K,J,I,L[D+5],12,1200080426);I=c(I,H,K,J,L[D+6],17,-1473231341);J=c(J,I,H,K,L[D+7],22,-45705983);K=c(K,J,I,H,L[D+8],7,1770035416);H=c(H,K,J,I,L[D+9],12,-1958414417);I=c(I,H,K,J,L[D+10],17,-42063);J=c(J,I,H,K,L[D+11],22,-1990404162);K=c(K,J,I,H,L[D+12],7,1804603682);H=c(H,K,J,I,L[D+13],12,-40341101);I=c(I,H,K,J,L[D+14],17,-1502002290);J=c(J,I,H,K,L[D+15],22,1236535329);K=j(K,J,I,H,L[D+1],5,-165796510);H=j(H,K,J,I,L[D+6],9,-1069501632);I=j(I,H,K,J,L[D+11],14,643717713);J=j(J,I,H,K,L[D+0],20,-373897302);K=j(K,J,I,H,L[D+5],5,-701558691);H=j(H,K,J,I,L[D+10],9,38016083);I=j(I,H,K,J,L[D+15],14,-660478335);J=j(J,I,H,K,L[D+4],20,-405537848);K=j(K,J,I,H,L[D+9],5,568446438);H=j(H,K,J,I,L[D+14],9,-1019803690);I=j(I,H,K,J,L[D+3],14,-187363961);J=j(J,I,H,K,L[D+8],20,1163531501);K=j(K,J,I,H,L[D+13],5,-1444681467);H=j(H,K,J,I,L[D+2],9,-51403784);I=j(I,H,K,J,L[D+7],14,1735328473);J=j(J,I,H,K,L[D+12],20,-1926607734);K=t(K,J,I,H,L[D+5],4,-378558);H=t(H,K,J,I,L[D+8],11,-2022574463);I=t(I,H,K,J,L[D+11],16,1839030562);J=t(J,I,H,K,L[D+14],23,-35309556);K=t(K,J,I,H,L[D+1],4,-1530992060);H=t(H,K,J,I,L[D+4],11,1272893353);I=t(I,H,K,J,L[D+7],16,-155497632);J=t(J,I,H,K,L[D+10],23,-1094730640);K=t(K,J,I,H,L[D+13],4,681279174);H=t(H,K,J,I,L[D+0],11,-358537222);I=t(I,H,K,J,L[D+3],16,-722521979);J=t(J,I,H,K,L[D+6],23,76029189);K=t(K,J,I,H,L[D+9],4,-640364487);H=t(H,K,J,I,L[D+12],11,-421815835);I=t(I,H,K,J,L[D+15],16,530742520);J=t(J,I,H,K,L[D+2],23,-995338651);K=a(K,J,I,H,L[D+0],6,-198630844);H=a(H,K,J,I,L[D+7],10,1126891415);I=a(I,H,K,J,L[D+14],15,-1416354905);J=a(J,I,H,K,L[D+5],21,-57434055);K=a(K,J,I,H,L[D+12],6,1700485571);H=a(H,K,J,I,L[D+3],10,-1894986606);I=a(I,H,K,J,L[D+10],15,-1051523);J=a(J,I,H,K,L[D+1],21,-2054922799);K=a(K,J,I,H,L[D+8],6,1873313359);H=a(H,K,J,I,L[D+15],10,-30611744);I=a(I,H,K,J,L[D+6],15,-1560198380);J=a(J,I,H,K,L[D+13],21,1309151649);K=a(K,J,I,H,L[D+4],6,-145523070);H=a(H,K,J,I,L[D+11],10,-1120210379);I=a(I,H,K,J,L[D+2],15,718787259);J=a(J,I,H,K,L[D+9],21,-343485551);K=s(K,F);J=s(J,E);I=s(I,C);H=s(H,B)}return Array(K,J,I,H)}function d(G,D,C,B,F,E){return s(x(s(s(D,G),s(B,E)),F),C)}function c(D,C,H,G,B,F,E){return d((C&H)|((~C)&G),D,C,B,F,E)}function j(D,C,H,G,B,F,E){return d((C&G)|(H&(~G)),D,C,B,F,E)}function t(D,C,H,G,B,F,E){return d(C^H^G,D,C,B,F,E)}function a(D,C,H,G,B,F,E){return d(H^(C|(~G)),D,C,B,F,E)}function s(B,E){var D=(B&65535)+(E&65535);var C=(B>>16)+(E>>16)+(D>>16);return(C<<16)|(D&65535)}function x(B,C){return(B<<C)|(B>>>(32-C))}return{hex:p,b64:o,any:i,hex_hmac:w,b64_hmac:l,any_hmac:h}}var MD5=getMD5Algorithms();window.JW=window.JW||{};$.extend(JW,{ns:function(b){var d=b.split(".");var c=window;for(var a=0;a<d.length;++a){var e=d[a];c[e]=c[e]||{};c=c[e]}},isArray:function(a){return Object.prototype.toString.apply(a)==="[object Array]"},isObject:function(a){return Object.prototype.toString.apply(a)==="[object Object]"},isDefined:function(a){return typeof a!=="undefined"},isSet:function(a){return(typeof a!=="undefined")&&(a!==null)},isEmpty:function(a){return(!a)||(a==="")||(JW.isArray(a)&&!a.length)},def:function(a,b){return JW.isDefined(a)?a:b},defn:function(a,b){return JW.isSet(a)?a:b},applyIf:function(c,b){for(var a in b){if(!JW.isDefined(c[a])){c[a]=b[a]}}return c},applyIfn:function(c,b){for(var a in b){if(!JW.isSet(c[a])){c[a]=b[a]}}return c},clean:function(c){var a={};for(var b in c){if(JW.isDefined(c[b])){a[b]=c[b]}}return a},cleann:function(c){var a={};for(var b in c){if(JW.isSet(c[b])){a[b]=c[b]}}return a},args:function(b,c,f){c=c||0;f=f||b.length-c;var e=[];for(var d=0;d<f;++d){e.push(b[c+d])}return e},emptyFn:function(){},htmlEncode:function(a){return String(a).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},removeScripts:function(c){var a=[];var b=0;while(true){var d=c.indexOf("<script",b);if(d==-1){break}a.push(c.substr(b,d-b));b=c.indexOf("<\/script>",d)+9;if(b==-1){return a.join("")}}a.push(c.substr(b));return a.join("")},evaluateDictionary:function(a){function b(f,e){e=e+f._base;for(var c in f){var d=f[c];if(c==="_base"){f[c]=e;continue}if(typeof d==="string"){f[c]=e+d;continue}b(d,e)}}b(a,"");return a},cmp:function(b,c,a){if(JW.isArray(b)&&JW.isArray(c)){return Array.cmp(b,c,a)}if(a){if(typeof b==="string"){b=b.toLowerCase()}if(typeof c==="string"){c=c.toLowerCase()}}if(b>c){return 1}if(b<c){return -1}return 0},each:function(c,d,b){if(JW.isArray(c)){for(var a=0;a<c.length;++a){d.call(b||this,c[a],a,c)}}else{for(var a in c){d.call(b||this,c[a],a,c)}}},get:function(d,c,b){if(JW.isEmpty(c)){return JW.def(d,b)}c=c.split(".");for(var a=0;a<c.length;++a){if(!d){return b}d=d[c[a]]}return JW.def(d,b)},equal:function(b,h,f,c){var e=[];var a=c?JW.seq:JW.eq;var d;function g(j,o){if(typeof j!=="object"||typeof o!=="object"){return a(j,o)}if(j===o){return true}var n=JW.isArray(j);var k=JW.isArray(o);if(n!==k){return false}for(var l=0;l<e.length;++l){if((e[l][0]===j&&e[l][1]===o)||(e[l][0]===o&&e[l][1]===j)){return true}}e.push([j,o]);if(n){if(j.length!==o.length){return false}for(var l=0;l<j.length;++l){if(!d(j[l],o[l])){return false}}return true}var m={};for(var l in j){m[l]=true;if(!d(j[l],o[l])){return false}}for(var l in o){if(!m[l]){return false}delete m[l]}for(var l in m){return false}return true}d=f?g:a;return g(b,h)},eq:function(a,b){return a==b},seq:function(a,b){return a===b},smartEncode:function(b){var a=[];function d(e){a.push('"'+e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")+'"')}function c(g){if(typeof g==="function"){throw new Error("Can't encode object containing function")}if(typeof g==="undefined"){a.push("undefined");return}if(typeof g==="string"){d(g);return}if(typeof g!=="object"){a.push(g);return}if(g===null){a.push("null");return}if(JW.isArray(g)){a.push("[");for(var e=0;e<g.length;++e){if(e!==0){a.push(",")}c(g[e])}a.push("]");return}var f=[];for(var e in g){f.push(e)}f.sort();a.push("{");for(var e=0;e<f.length;++e){if(e!==0){a.push(",")}d(f[e]);a.push(":");c(g[f[e]])}a.push("}")}c(b);return a.join("")},pathString:function(c){var a=[];for(var b=0;b<c.length;++b){if(JW.isSet(c[b])){a.push(c[b].toString().replace(/\\/g,"\\\\").replace(/\./g,"\\."))}else{a.push(c[b])}}return a.join(".")},makeArray:function(a){return JW.isArray(a)?a:JW.isSet(a)?[a]:[]},mod:function(b,a){return b-a*Math.floor(b/a)},hash:function(a){return MD5.hex(JW.smartEncode(a))},uid:function(){JW.__lastUid=JW.hash([JW.__lastUid,new Date().getTime(),Math.random()*65536]);return JW.__lastUid}});if(!window.console){window.console={log:JW.emptyFn}}JW.ClassUtil={Class:function(){if(this.init){this.init.apply(this,arguments)}return this},newClass:function(){var a=function(){a.superclass.constructor.apply(this,arguments);return this};return a},extend:function(f,e,l){var k,h,d;if(!f||typeof f=="object"){if(l){throw"Can't extend: subclass is undefined"}if(e){throw"Can't extend: superclass is undefined"}k=JW.ClassUtil.newClass();h=JW.ClassUtil.Class;d=f}else{if(!e||typeof e=="object"){if(l){throw"Can't extend: superclass is undefined"}k=JW.ClassUtil.newClass();h=f;d=e}else{k=f;h=e;d=l}}var j=function(){};j.prototype=h.prototype;k.prototype=new j();k.prototype.constructor=k;k.superclass=h.prototype;k.extend=JW.ClassUtil.extendThis;for(var g in d){k.prototype[g]=JW.ClassUtil.extendMethod(d[g],h.prototype[g])}return k},extendThis:function(d,c){return JW.ClassUtil.extend(this,d,c)},extendMethod:function(b,a){if(typeof a!=="function"||typeof b!=="function"||b.superclass){return b}return function(){var d=this._super;this._super=a;var c=b.apply(this,arguments);this._super=d;return c}}};JW.Class=JW.ClassUtil.Class;JW.ClassUtil.extend(JW.Class,Object);JW.Class.prototype.init=function(){};JW.Class.prototype.destroy=function(){};JW.Event=JW.Class.extend({type:null,target:null,init:function(a,b){this.type=a;this.target=b}});JW.Observable=JW.Class.extend({__listeners:null,__observers:null,__flags:null,destroy:function(){this.purgeAll()},bind:function(c,b,a,d){this.__parseListeners(this.__bind,JW.args(arguments))},unbind:function(c,b,a){this.__parseListeners(this.__unbind,JW.args(arguments))},purge:function(c){if(!this.__observers){return}var d=this.__observers.get(c);if(!d){return}for(var b=0;b<d.length;++b){var a=d[b];this.__removeHandler(a)}this.__observers.del(c)},purgeAll:function(){delete this.__listeners;delete this.__observers},trigger:function(a){this.triggerArray(a,JW.args(arguments,1))},triggerArray:function(e,b){var f=new JW.Event(e,this);var a=[f].concat(b);if(this.__flags&&this.__flags[e]){this.__flags[e]=a}if(!this.__listeners){return}var d=this.__listeners[e];if(!d){return}triggers=d.concat();for(var c=0;c<d.length;++c){var g=d[c];if(g.disposable){this.__removeObserver(g);d.splice(c,1);--c}}if(d.length===0){delete this.__listeners[e]}for(var c=0;c<triggers.length;++c){var g=triggers[c];g.handler.apply(g.scope||this,a)}},relay:function(b,a){return b.bind(a,this.__relayHandler,this)},resetFlagEvents:function(){this.resetFlagEventsArray(JW.args(arguments))},resetFlagEventsArray:function(b){this.__flags=this.__flags||{};for(var a=0;a<b.length;++a){this.__flags[b[a]]=true}},addListener:function(){return this.bind.apply(this,arguments)},removeListener:function(){this.unbind.apply(this,arguments)},fireEvent:function(){this.trigger.apply(this,arguments)},on:function(){return this.bind.apply(this,arguments)},un:function(){this.unbind.apply(this,arguments)},__parseListeners:function(e,b){var a=b[0];if(!a){return}if(typeof a==="string"){return e.call(this,a,b[1],b[2],b[3])}if(a.type){for(var c=0;c<b.length;++c){e.call(this,b[c].type,b[c].handler,b[c].scope,b[c].disposable)}return}if(JW.isArray(a)){for(var c=0;c<a.length;++c){e.call(this,a[c].type,a[c].handler,a[c].scope,a[c].disposable)}return}for(var c in a){if(c==="scope"||c==="disposable"){continue}var d=a[c];if(typeof d==="function"){e.call(this,c,d,a.scope,a.disposable)}else{e.call(this,c,d.handler,JW.def(d.scope,a.scope),JW.def(d.disposable,a.disposable))}}},__bind:function(c,b,a,f){if(f&&this.__flags&&JW.isArray(this.__flags[c])){b.apply(a||this,this.__flags[c]);return}var d={type:c,handler:b,scope:a,disposable:!!f};this.__listeners=this.__listeners||{};this.__listeners[c]=this.__listeners[c]||[];this.__listeners[c].push(d);if(a){this.__observers=this.__observers||new JW.Map();var e=this.__observers.get(a);if(e){e.push(d)}else{this.__observers.set(a,[d])}}if(this.__flags&&JW.isArray(this.__flags[c])){b.apply(a||this,this.__flags[c])}},__unbind:function(e,d,c){if(!this.__listeners){return}var b=this.__listeners[e];if(!b){return}for(var a=0;a<b.length;++a){var f=b[a];if((!d||f.handler===d)&&(!c||f.scope===c)){this.__removeObserver(f);b.splice(a,1);--a}}if(b.length===0){delete this.__listeners[e]}},__removeObserver:function(a){if(!this.__observers){return}var b=this.__observers.get(a.scope);if(!b){return}b.removeItem(a);if(b.length===0){this.__observers.del(a.scope)}},__removeHandler:function(b){if(!this.__listeners){return}var a=this.__listeners[b.type];if(!a){return}a.removeItem(b);if(a.length===0){delete this.__listeners[b.type]}},__relayHandler:function(a){this.triggerArray(a.type,JW.args(arguments).slice(1))}});JW.Observable.Listener={type:null,handler:null,scope:null,disposable:null};JW.ns("JW.Alg");$.extend(JW,{every:function(c,d,b){if(typeof c==="function"){return c(d,b||window)}if(typeof c!=="object"||!c){return true}if(typeof c.every==="function"){return c.every(d,b)}for(var a in c){if(!d.call(b||c,c[a],a)){return false}}return true},each:function(b,c,a){JW.every(b,c.returns(true),a);return b},some:function(b,c,a){return !JW.every(b,c.not(),a)},getValuesArray:function(b){var a=[];JW.every(b,function(c){a.push(c);return true});return a},getValuesSet:function(b){var a={};JW.every(b,function(c){a[c]=true;return true});return a}});JW.Alg.SimpleMethods={each:function(b,a){return JW.each(this,b,a)},some:function(b,a){return JW.some(this,b,a)},getValuesArray:function(){return JW.getValuesArray(this)},getValuesSet:function(){return JW.getValuesSet(this)}};JW.ns("JW.Alg");$.extend(JW,{createEmpty:function(a){if(typeof a==="function"){return a()}if(!a||typeof a!=="object"){return null}if(typeof a.createEmpty==="function"){return a.createEmpty()}return{}},pushItem:function(a,b){if(typeof a==="function"){return a.apply(window,b)}if(!a||typeof a!=="object"){return a}if(typeof a.pushItem==="function"){return a.pushItem.apply(a,b)}a[b[1]]=b[0];return a},clone:function(b){var a=JW.createEmpty(b);return JW.merge(a,b)},filter:function(c,d,b){var a=JW.createEmpty(c);JW.every(c,function(){if(d.apply(b||this,arguments)){JW.pushItem(a,arguments)}return true});return a},filterBy:function(c,b,a){return JW.filter(c,function(d){return JW.get(d,b)==a})},map:function(c,d,b){var a=JW.createEmpty(c);JW.every(c,function(){var e=JW.args(arguments);e[0]=d.apply(b||this,arguments);JW.pushItem(a,e);return true});return a},mapBy:function(b,a){return JW.map(b,function(c){return JW.get(c,a)})},merge:function(b,a){JW.every(a,function(){JW.pushItem(b,arguments);return true});return b}});JW.Alg.BuildMethods={clone:function(){return JW.clone(this)},filter:function(b,a){return JW.filter(this,b,a)},filterBy:function(b,a){return JW.filterBy(this,b,a)},map:function(b,a){return JW.map(this,b,a)},mapBy:function(b,a){return JW.mapBy(this,b,a)},merge:function(a){return JW.merge(this,a)}};$.extend(Array.prototype,{every:function(c,b){for(var a=0;a<this.length;++a){if(!c.call(b||this,this[a],a)){return false}}return true},createEmpty:function(){return[]},pushItem:function(b,a){this.push(b);return this},findBy:function(c,b){for(var a=0;a<this.length;++a){if(JW.get(this[a],c)==b){return a}}return -1},getBy:function(c,b){var a=this.findBy(c,b);if(a==-1){return undefined}return this[a]},removeBy:function(c,b){var a=0;while(a<this.length){if(JW.get(this[a],c)==b){this.splice(a,1)}else{++a}}return this},createDictionary:function(d){var a={};for(var c=0;c<this.length;++c){var b=JW.get(this[c],d);if(JW.isSet(b)){a[b]=this[c]}}return a},removeItem:function(b){for(var a=0;a<this.length;++a){if(this[a]==b){this.splice(a,1);--a}}return this},equals:function(a){if(this==a){return true}if(this.length!=a.length){return false}for(var b=0;b<this.length;++b){if(this[b]!=a[b]){return false}}return true},pushAll:function(a){if(!a){return this}this.push.apply(this,a);return this},sortBy:function(b,a){a=a||1;this.sort(function(c,d){return JW.cmp(JW.get(c,b),JW.get(d,b))*a})},top:function(){return this[this.length-1]},collapse:function(c){var a=[];for(var b=0;b<this.length;++b){if(!JW.isArray(this[b])){a.push(this[b]);continue}if(!JW.isSet(c)){a.pushAll(this[b].collapse());continue}if(c){a.pushAll(this[b].collapse(c-1));continue}a.push(this[b])}return a}});$.extend(Array.prototype,JW.Alg.SimpleMethods);$.extend(Array.prototype,JW.Alg.BuildMethods);$.extend(Array,{cmp:function(c,f,b){var e=Math.min(c.length,f.length);for(var d=0;d<e;++d){var a=JW.cmp(c[d],f[d],b);if(a){return a}}return JW.cmp(c.length,f.length)}});$.extend(Date.prototype,{clone:function(){return new Date(this.getTime())},setDay:function(a){return this.addDays(a-this.getDay())},getGlobalSecond:function(){return 60*this.getGlobalMinute()+this.getSeconds()},getGlobalMinute:function(){return 60*this.getGlobalHour()+this.getMinutes()},getGlobalHour:function(){return 24*this.getGlobalDay()+this.getHours()},getGlobalDay:function(){return Math.round((this.clone().zeroTime().getTime()-new Date(0).zeroTime().getTime())/Date.MS_PER_DAY)},getGlobalWeek:function(){return Math.round((this.clone().zeroTime().setDay(0).getTime()-Date.FIRST_SUNDAY.getTime())/Date.MS_PER_WEEK)},getGlobalMonth:function(){return 12*this.getGlobalYear()+this.getMonth()},getGlobalYear:function(){return this.getFullYear()-1970},addWeeks:function(a){return this.addDays(a*7)}});Date.MS_PER_SECOND=1000;Date.MS_PER_MINUTE=60*Date.MS_PER_SECOND;Date.MS_PER_HOUR=60*Date.MS_PER_MINUTE;Date.MS_PER_DAY=24*Date.MS_PER_HOUR;Date.MS_PER_WEEK=7*Date.MS_PER_DAY;Date.TIMEZONE_OFFSET=function(){var a=new Date(0);a.setMilliseconds(0);a.setSeconds(0);a.setMinutes(0);a.setHours(0);return a.getTime()}();Date.FIRST_SUNDAY=new Date(0).zeroTime().addDays(7).setDay(0);$.extend(Date,{getDate:function(a){if(!a){return new Date()}if(typeof a==="number"){return new Date(a)}if(typeof a==="string"){var b=parseInt(a);return isNaN(b)?new Date(a):new Date(b)}return a},getTime:function(a){if(!a){return new Date().getTime()}if(typeof a==="string"){var b=parseInt(a);return isNaN(b)?new Date(a).getTime():b}return(typeof a==="number")?a:a.getTime()}});$.extend(Function.prototype,{inScope:function(b){var a=this;return function(){return a.apply(b,arguments)}},noArgs:function(){var a=this;return function(){return a.call(this)}},insertArgs:function(a){return this.insertArgsArray(a,JW.args(arguments,1))},insertArgsArray:function(b,a){var c=this;return function(){var d=JW.args(arguments);while(d.length<b){d.push(undefined)}d.splice.apply(d,[b,0].concat(a));return c.apply(this,d)}},withArgs:function(){return this.asArray(null,arguments)},withArgsArray:function(a){return this.asArray(null,a)},as:function(a){return this.asArray(a,JW.args(arguments,1))},asArray:function(c,a){var b=this;return function(){var e=[];for(var f=0;f<a.length;++f){var d=a[f];if(typeof d==="string"&&d.length==1&&(d.charCodeAt(0)<8)){e.push(arguments[d.charCodeAt(0)])}else{e.push(d)}}return b.apply(c||this,e)}},returns:function(b){var a=this;return function(){a.apply(this,arguments);return b}},returnsArg:function(a){var b=this;return function(){b.apply(this,arguments);return arguments[a]}},not:function(){var a=this;return function(){return !a.apply(this,arguments)}},and:function(){return Function.and.apply(Function,[this].concat(JW.args(arguments)))},or:function(){return Function.or.apply(Function,[this].concat(JW.args(arguments)))},xor:function(){return Function.xor.apply(Function,[this].concat(JW.args(arguments)))},impl:function(a){return Function.impl(this,a)},defer:function(a){return setTimeout(this,a)}});$.extend(Function,{and:function(){var a=JW.args(arguments);return function(){for(var b=0;b<a.length;++b){if(!a[b].apply(this,arguments)){return false}}return true}},or:function(){var a=JW.args(arguments);return function(){for(var b=0;b<a.length;++b){if(a[b].apply(this,arguments)){return true}}return false}},xor:function(){var a=JW.args(arguments);return function(){var b=0;for(var c=0;c<a.length;++c){b=b^a[c].apply(this,arguments)}return b}},impl:function(a,b){return function(){return !a.apply(this,arguments)||b.apply(this,arguments)}},returns:function(a){return function(){return a}},returnsArg:function(a){return function(){return arguments[a]}}});$.extend(String.prototype,{htmlEncode:function(){return JW.htmlEncode(this)},removeScripts:function(){return JW.removeScripts(this)},ellipsis:function(b,a){if(this.length<=b){return this}a=a||"...";return this.substr(0,b-a.length)+a}});JW.Action=JW.Class.extend({requestCls:null,url:null,data:null,timeout:null,type:null,dataType:null,contentType:null,jsonp:null,jsonpCallback:null,username:null,password:null,scriptCharset:null,cache:null,global:null,ifModified:null,processData:null,traditional:null,init:function(a){this._super();$.extend(this,a);this.requestCls=this.requestCls||JW.Request},createRequest:function(){var a=this.requestCls;return new a({url:this.url,data:this.data,timeout:this.timeout,type:this.type,dataType:this.dataType,contentType:this.contentType,jsonp:this.jsonp,jsonpCallback:this.jsonpCallback,username:this.username,password:this.password,scriptCharset:this.scriptCharset,async:this.async,cache:this.cache,global:this.global,ifModified:this.ifModified,processData:this.processData,traditional:this.traditional})}});JW.Animation=JW.Observable.extend({easing:"linear",duration:1000,applyOnStart:false,autoStart:false,noIPad:false,id:0,started:false,time:0,position:0,easValue:0,init:function(a){this._applyConfig(a);if(this.autoStart){this.start()}},apply:function(){},finish:function(){},getParam:function(b,a){return b+(a-b)*this.easValue},start:function(a){this._applyConfig(a);JW.Animation.Core.start(this)},stop:function(){JW.Animation.Core.stop(this)},reset:function(){this.time=0;this.position=0;this.easValue=0},_applyConfig:function(a){$.extend(this,a);if(typeof this.easing==="string"){this.easing=JW.Easing[this.easing]}}});JW.Animation.CoreClass=JW.Observable.extend({STEP:50,animations:null,timer:null,lastTime:0,_lastId:0,_count:0,_init:function(){if(this.animations){return}this.animations={};this.timer=new JW.Timer(this.STEP,true);this.timer.bind("tick",this._onTick,this)},start:function(a){if(a.started){return}this._init();a.id=this._lastId++;this.animations[a.id]=a;a.started=true;++this._count;if(a.applyOnStart){a.apply()}this.lastTime=new Date().getTime();this.timer.start()},stop:function(a){if(!a.started){return}this._init();delete this.animations[a.id];a.started=false;--this._count;if(this._count==0){this.timer.stop()}},_onTick:function(){var e=[].merge(this.animations);var d=Date.getTime();var b=d-this.lastTime;this.lastTime=d;for(var a=0;a<e.length;++a){var c=e[a];if(c.noIPad&&JW.Browsers.isIPad){c.time=c.duration}else{c.time+=b}if(c.time>=c.duration){c.position=1;c.easValue=1;c.apply();c.stop();c.finish()}else{c.position=c.time/c.duration;c.easValue=c.easing(c.position);c.apply()}}}});JW.Animation.Core=new JW.Animation.CoreClass();JW.Browsers=(function(){ua=navigator.userAgent.toLowerCase();function u(y){return y.test(ua)}var i=document.compatMode=="CSS1Compat",w=u(/opera/),f=u(/\bchrome\b/),p=u(/webkit/),t=!f&&u(/safari/),d=t&&u(/applewebkit\/4/),a=t&&u(/version\/3/),x=t&&u(/version\/4/),o=!w&&u(/msie/),m=o&&u(/msie 7/),l=o&&u(/msie 8/),n=o&&!m&&!l,k=!p&&u(/gecko/),e=k&&u(/rv:1\.8/),b=k&&u(/rv:1\.9/),s=o&&!i,v=u(/windows|win32/),h=u(/macintosh|mac os x/),g=u(/adobeair/),j=u(/linux/),r=u(/ipad/),c=/^https/i.test(window.location.protocol);var q=!(f||r);return{isStrict:i,isOpera:w,isChrome:f,isWebKit:p,isSafari:t,isSafari2:d,isSafari3:a,isSafari4:x,isIE:o,isIE7:m,isIE8:l,isIE6:n,isGecko:k,isGecko2:e,isGecko3:b,isBorderBox:s,isWindows:v,isMac:h,isAir:g,isLinux:j,isIPad:r,isSecure:c,isPaddingWideTd:q}})();JW.Collection=JW.Observable.extend({EVENT_ADDED:"added",EVENT_REMOVED:"removed",EVENT_REPLACED:"replaced",EVENT_MOVED:"moved",EVENT_CLEARED:"cleared",EVENT_REORDERED:"reordered",EVENT_FILTERED:"filtered",EVENT_RESETTED:"resetted",base:null,init:function(a){this._super();this.base=JW.makeArray(a)},getLength:function(){return this.base.length},getItemAt:function(a){return this.base[a]},addItem:function(a){this.addItemAt(a,this.getLength())},addItemAt:function(b,a){this.base.splice(a,0,b);this.trigger("added",a,b)},removeItem:function(b){var a=this.base.indexOf(b);if(a!=-1){this.removeItemAt(a)}},removeItemAt:function(a){var b=this.base[a];this.base.splice(a,1);this.trigger("removed",a,b)},setItem:function(a,b){var c=this.base[a];this.base[a]=b;this.trigger("replaced",a,c,b)},moveItem:function(a,c){var b=this.base[a];this.base.splice(a,1);this.base.splice(c,0,b);this.trigger("moved",a,c,b)},clear:function(){this.base.splice(0,this.base.length);this.trigger("cleared")},triggerReordered:function(){this.trigger("reordered")},triggerFiltered:function(){this.trigger("filtered")},triggerResetted:function(){this.trigger("resetted")},every:function(b,a){return this.base.every(b,a)},createEmpty:function(){return new JW.Collection()},pushItem:function(b,a){this.base.push(b);return this}});$.extend(JW.Collection.prototype,JW.Alg.SimpleMethods);$.extend(JW.Collection.prototype,JW.Alg.BuildMethods);JW.Collection.getCollection=function(a){return(a instanceof JW.Collection)?a:JW.Collection(a)};JW.Config=JW.Class.extend({init:function(a){this._super();$.extend(this,a)}});JW.Dimap=JW.Class.extend({dim:0,length:0,init:function(b,a){this.dim=b;this._isAdapter=JW.isSet(a);if(this._isAdapter){this._map=a;this.every(function(){++this.length;return true},this)}},set:function(){var f=JW.args(arguments,0,this.dim-1);var b=arguments[this.dim-1];var e=arguments[this.dim];this._map=this._map||{};var a=this._map;for(var d=0;d<this.dim-1;++d){var c=f[d];a[c]=a[c]||{};a=a[c]}if(!JW.isDefined(a[b])){++this.length}a[b]=e;return this},get:function(){var a=this._map;for(var b=0;b<arguments.length;++b){if(!a){return undefined}a=a[arguments[b]]}return a},del:function(){var a=this._map;for(var c=0;c<arguments.length-1;++c){if(!a){return undefined}a=a[arguments[c]]}if(!a){return undefined}var b=arguments[arguments.length-1];var d=a[b];if(d){--this.length;delete a[b]}return d},clear:function(){if(!this._isAdapter){delete this._map}else{if(this._map){var b=[];for(var a in this._map){b.push(a)}for(var a=0;a<b.length;++a){delete this._map[b[a]]}}}this.length=0;return this},every:function(e,b){var a=new Array(this.dim+1);var c=this;function d(h,f){if(f==c.dim){a[0]=h;return e.apply(b||c,a)}if(!h){return true}for(var g in h){a[f+1]=g;if(!d(h[g],f+1)){return false}}return true}return d(this._map,0)!==false},createEmpty:function(){return new JW.Dimap(this.dim)},pushItem:function(a){return this.set.apply(this,JW.args(arguments,1,this.dim).concat([a]))}});$.extend(JW.Dimap.prototype,JW.Alg.SimpleMethods);$.extend(JW.Dimap.prototype,JW.Alg.BuildMethods);JW.Dimap.createIndexer=function(c){var b=JW.args(arguments,1);var a=new Array(b.length+1);var d=new JW.Dimap(b.length);JW.each(c,function(g,f){for(var e=0;e<b.length;++e){a[e]=g[b[e]]}a[b.length]=f;d.set.apply(d,a)});return d};JW.Dimap.createByDictionary=function(b,d){var c=new JW.Dimap(d);var a=new Array(d+1);function e(h,f){if(f==d){a[d]=h;c.set.apply(c,a);return}for(var g in h){a[f]=g;e(h[g],f+1)}}e(b,0);return c};JW.Dimap.createByArray=function(c){var b=JW.args(arguments,1);var a=new Array(b.length+1);var d=new JW.Dimap(b.length);JW.each(c,function(f){for(var e=0;e<b.length;++e){a[e]=f[b[e]]}a[b.length]=f;d.set.apply(d,a)});return d};JW.Dimap.createByArrayValued=function(c){var b=JW.args(arguments,1,arguments.length-2);var e=arguments[arguments.length-1];var a=new Array(b.length+1);var d=new JW.Dimap(b.length);JW.each(c,function(g){for(var f=0;f<b.length;++f){a[f]=g[b[f]]}a[b.length]=g[e];d.set.apply(d,a)});return d};JW.Easing={linear:function(a){return a},inQuad:function(a){return a*a},outQuad:function(a){return 1-(1-a)*(1-a)}};JW.Map=JW.Class.extend({_gc:0,set:function(a,c){this._items=this._items||[];var b=this._items.getBy("key",a);if(b){b.value=c}else{this._items.push({key:a,value:c})}},get:function(a){if(!this._items){return undefined}var b=this._items.getBy("key",a);return b?b.value:undefined},del:function(b){if(!this._items){return undefined}var a=this._items.findBy("key",b);if(-1===a){return undefined}var c=this._items[a].value;this._items[a]={};if(this._items.length<(2*++this._gc)){this._gc=0;this._items=this._items.filter(this._filterFn)}return c},_filterFn:function(a){return a.key!==undefined}});JW.Model=JW.Observable.extend({init:function(a){this._super();$.extend(this,a)},serialize:function(){var a={};for(var b in this){if(b.charAt(0)==="_"){continue}var c=this[b];if(typeof c==="function"||typeof c==="undefined"){continue}a[b]=JW.Model.serialize(c)}return a}});$.extend(JW.Model,{serialize:function(a){return(a&&typeof a.serialize==="function")?a.serialize():a},encode:function(a){return JSON.stringify(JW.Model.serialize(a))}});$.extend(Array.prototype,{serialize:function(){var a=[];for(var b=0;b<this.length;++b){a.push(JW.Model.serialize(this[b]))}return a}});JW.Timer=JW.Observable.extend({EVENT_TICK:"tick",delay:0,repeat:false,init:function(a,b){$.extend(this,{delay:a,repeat:b})},start:function(){if(this.isStarted()){return}var a=this.repeat?setInterval:setTimeout;this._handle=a(this._onTimeout.inScope(this),this.delay)},stop:function(){if(!this.isStarted()){return}var a=this.repeat?clearInterval:clearTimeout;a(this._handle);delete this._handle},restart:function(){this.stop();this.start()},isStarted:function(){return !!this._handle},_onTimeout:function(){this.trigger("tick")}});JW.Request=JW.Observable.extend({EVENT_LOAD:"load",EVENT_COMPLETE:"complete",EVENT_SUCCESS:"success",EVENT_ERROR:"error",EVENT_ABORT:"abort",url:null,data:null,timeout:null,type:null,dataType:null,contentType:null,jsonp:null,jsonpCallback:null,username:null,password:null,scriptCharset:null,cache:null,global:null,ifModified:null,processData:null,traditional:null,status:"ready",response:null,xhr:null,textStatus:null,errorThrown:null,init:function(a){this._super();$.extend(this,a)},load:function(a,b){if(this.isLoading()){return}this._load(a,b)},reload:function(a,b){this.abort();this.load(a,b)},abort:function(){if(!this.isLoading()){return}this.status="abort";this.textStatus="abort";this.xhr.abort();this.trigger("abort",this.xhr);this.trigger("complete",this.xhr,this.textStatus)},reset:function(){this.abort();this.status="ready";delete this.response;delete this.xhr;delete this.textStatus;delete this.errorThrown},isLoading:function(){return this.status==="load"},isComplete:function(){return this.status==="success"||this.status==="error"},_load:function(a,d){this.reset();var b=$.extend({},this.data,a);var c=$.extend({url:this.url,data:b,timeout:this.timeout,type:this.type,dataType:this.dataType,contentType:this.contentType,jsonp:this.jsonp,jsonpCallback:this.jsonpCallback,username:this.username,password:this.password,scriptCharset:this.scriptCharset,async:this.async,cache:this.cache,global:this.global,ifModified:this.ifModified,processData:this.processData,traditional:this.traditional},d);c=JW.cleann(c);$.extend(c,{success:this._onSuccess.inScope(this),error:this._onError.inScope(this)});this.status="load";this.xhr=$.ajax(c);this.trigger("load",this.xhr,c)},_onSuccess:function(a,c,b){this.status="success";this.response=a;this.textStatus=c;this.trigger("success",a,c,b);this._onComplete(b,c)},_onError:function(b,c,a){if(this.status==="abort"){return}this.status="error";this.textStatus=c;this.errorThrown=a;this.trigger("error",b,c,a);this._onComplete(b,c)},_onComplete:function(a,b){this.trigger("complete",a,b)}});JW.Request.Status={READY:"ready",LOAD:"load",SUCCESS:"success",ERROR:"error",ABORT:"abort"};JW.RequestRepeater=JW.Class.extend({request:null,timer:null,init:function(b,a){this._super();this.request=b;this.request.bind("load",this._onLoad,this);this.request.bind("complete",this._onComplete,this);this.timer=new JW.Timer(a);this.timer.bind("tick",this._onTick,this)},destroy:function(){this.timer.destroy();this._super()},_onTick:function(){this.request.load()},_onLoad:function(){this.timer.stop()},_onComplete:function(){this.timer.start()}});JW.Syncher=JW.Class.extend({collection:null,creator:null,inserter:null,remover:null,destroyer:null,isEmpty:null,scope:null,skipInit:false,init:function(a){$.extend(this,a);this.collection.bind("added",this._onAdded,this);this.collection.bind("removed",this._onRemoved,this);this.collection.bind("replaced",this._onReplaced,this);this.collection.bind("moved",this._onMoved,this);this.collection.bind("cleared",this._onCleared,this);if(this.skipInit){return}for(var b=0;b<this.collection.getLength();++b){this._inserter(this._creator(this.collection.getItemAt(b)),b)}},destroy:function(){while(!this._isEmpty()){this._destroyer(this._remover(0))}},_creator:function(a){return this.creator.call(this.scope||this,a)},_inserter:function(a,b){this.inserter.call(this.scope||this,a,b)},_remover:function(a){return this.remover.call(this.scope||this,a)},_destroyer:function(a){this.destroyer.call(this.scope||this,a)},_isEmpty:function(){return this.isEmpty.call(this.scope||this)},_onAdded:function(c,a,b){this._inserter(this._creator(b),a)},_onRemoved:function(b,a){this._destroyer(this._remover(a))},_onReplaced:function(c,a,d,b){this._destroyer(this._remover(a));this._inserter(this._creator(b),a)},_onMoved:function(b,a,c){this._inserter(this._remover(a),c)},_onCleared:function(a){while(!this._isEmpty()){this._destroyer(this._remover(0))}}});$.extend($.fn,{insert:function(b,a){if(a==0){this.prepend(b)}else{$(this.children()[a-1]).after(b)}}});JW.Component=JW.Observable.extend({renderTo:null,plugins:null,el:null,initialConfig:null,init:function(a){this._super();$.extend(this,a);this.initialConfig=a;this._initComponent();this._render();this._afterRender();this._afterAppend()},destroy:function(){for(var a=0;a<this.plugins.length;++a){this.plugins[a].destroy()}this.destroyComponent();if(this.el){this.el.remove()}delete this.renderTo;delete this.plugins;delete this.el;this._super()},initComponent:function(){},render:function(){},afterRender:function(){},afterAppend:function(){},destroyComponent:function(){},getPlugin:function(a){return this.plugins.getBy("xtype",a)},_initComponent:function(){var a=this.plugins||[];this.plugins=[];this.initComponent();this.plugins=this.plugins.concat(a);for(var b=0;b<this.plugins.length;++b){this.plugins[b].attach(this)}},_render:function(){this.render();for(var a=0;a<this.plugins.length;++a){this.plugins[a].render()}},_afterRender:function(){this.afterRender();for(var a=0;a<this.plugins.length;++a){this.plugins[a].afterRender()}},_afterAppend:function(){if(!this.renderTo||!this.el){return}$(this.renderTo).append(this.el);this.afterAppend();for(var a=0;a<this.plugins.length;++a){this.plugins[a].afterAppend()}}});JW.Component.template=function(a,b){a.prototype.Templates=(a.superclass.Templates||JW.Class).extend(b);a.prototype.templates=new a.prototype.Templates()};JW.Component.template(JW.Component);JW.Plugin=JW.Observable.extend({xtype:null,target:null,init:function(a){$.extend(this,a)},attach:function(a){this.target=a;this.initPlugin()},initPlugin:function(){},render:function(){},afterRender:function(){},afterAppend:function(){},destroy:function(){}});JW.webRoot="/jwidget";